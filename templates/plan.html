<!DOCTYPE html>
<html>
<body>
    <h1>{{ user_info['name'] }}님의 개인화된 건강 및 운동 계획</h1>
    <p>{{ plan }}</p>

    <h2>운동 및 건강 계획 투두리스트</h2>
    <input type="text" id="todoInput" placeholder="운동 루틴 추가">
    <button onclick="newElement()" class="addBtn">추가</button>
    <ul id="todoList">
        <!-- 투두리스트 아이템이 여기에 추가됩니다 -->
    </ul>

    <h2>진행 현황</h2>
    <p id="progress">0%</p>

    <script>
        function newElement() {
            var li = document.createElement("li");
            var inputValue = document.getElementById("todoInput").value;
            var t = document.createTextNode(inputValue);
            li.appendChild(t);
            if (inputValue === '') {
                alert("내용을 입력해주세요!");
            } else {
                document.getElementById("todoList").appendChild(li);
            }
            document.getElementById("todoInput").value = "";

            var span = document.createElement("SPAN");
            var txt = document.createTextNode("\u00D7");
            span.className = "close";
            span.appendChild(txt);
            li.appendChild(span);

            for (i = 0; i < close.length; i++) {
                close[i].onclick = function() {
                    var div = this.parentElement;
                    div.style.display = "none";
                }
            }
        }

        function updateProgress() {
            var items = document.querySelectorAll('#todoList li');
            var doneItems = document.querySelectorAll('#todoList .checked');

            var progress = doneItems.length / items.length * 100;
            document.getElementById('progress').innerText = progress + '%';
        }
    </script>

</body>
</html>
